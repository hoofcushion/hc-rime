local M={
 speller={
  alphabet="zyxwvutsrqponmlkjihgfedcba;ZYXWVUTSRQPONMLKJIHGFEDCBA-=|",
  initials="zyxwvutsrqponmlkjihgfedcba;ZYXWVUTSRQPONMLKJIHGFEDCBA",
  jian={"xform/zh/v/","xform/ch/u/","xform/sh/i/"},
  algebra={
   "xform/^shi$/\"eo\"/",
   "xform/^zhi$/\"ej\"/",
   "xform/^ji$/\"ek\"/",
   "xform/^bu$/\"di\"/",
   "xform/^yi$/\"pf\"/",
   "xform/^xiang$/\"qi\"/",
   "xform/^xian$/\"ti\"/",
   "xform/^da$/\"ur\"/",
   "xform/^jing$/\"uq\"/",
   "xform/^xi$/\"ie\"/",
   "xform/^gong$/\"oe\"/",
   "xform/^wo$/\"to\"/",
   "xform/^jin$/\"pe\"/",
   "xform/^ta$/\"ye\"/",
   "xform/^jie$/\"ue\"/",
   "xform/^chu$/\"ri\"/",
   "xform/^wei$/\"ow\"/",
   "xform/^zai$/\"wi\"/",
   "xform/^zhong$/\"tq\"/",
   "xform/^ge$/\"al\"/",
   "xform/^de$/\"ei\"/",
   "xform/^zhe$/\"eu\"/",
   "xform/^qi$/\"ru\"/",
   "xform/^you$/\"ir\"/",
   "xform/^ren$/\"it\"/",
   "xform/^li$/\"ak\"/",
   "xform/^dao$/\"iw\"/",
   "xform/^guo$/\"wo\"/",
   "xform/^zi$/\"ot\"/",
   "xform/^jian$/\"tp\"/",
   "xform/^ying$/\"wh\"/",
   "xform/^dong$/\"gy\"/",
   "xform/^ming$/\"hr\"/",
   "xform/^na$/\"fp\"/",
   "xform/^hou$/\"le\"/",
   "xform/^ju$/\"du\"/",
   "xform/^si$/\"jr\"/",
   "xform/^hua$/\"oa\"/",
   "xform/^hai$/\"gp\"/",
   "xform/^qu$/\"wj\"/",
   "xform/^bao$/\"os\"/",
   "xform/^wen$/\"og\"/",
   "xform/^yan$/\"sy\"/",
   "xform/^chang$/\"wk\"/",
   "xform/^guan$/\"gi\"/",
   "xform/^jiao$/\"th\"/",
   "xform/^tian$/\"su\"/",
   "xform/^xie$/\"ys\"/",
   "xform/^me$/\"ps\"/",
   "xform/^dui$/\"kt\"/",
   "xform/^ci$/\"gu\"/",
   "xform/^mian$/\"uf\"/",
   "xform/^shuo$/\"yf\"/",
   "xform/^he$/\"ud\"/",
   "xform/^ni$/\"qh\"/",
   "xform/^er$/\"fo\"/",
   "xform/^kan$/\"hw\"/",
   "xform/^neng$/\"jt\"/",
   "xform/^liang$/\"rh\"/",
   "xform/^yong$/\"do\"/",
   "xform/^hao$/\"lt\"/",
   "xform/^ru$/\"ht\"/",
   "xform/^yin$/\"el\"/",
   "xform/^shu$/\"yd\"/",
   "xform/^ran$/\"kw\"/",
   "xform/^tong$/\"pa\"/",
   "xform/^wu$/\"pg\"/",
   "xform/^yu$/\"is\"/",
   "xform/^ke$/\"yg\"/",
   "xform/^xing$/\"kr\"/",
   "xform/^di$/\"je\"/",
   "xform/^sheng$/\"tj\"/",
   "xform/^mei$/\"sp\"/",
   "xform/^men$/\"dp\"/",
   "xform/^jia$/\"si\"/",
   "xform/^shang$/\"ke\"/",
   "xform/^zheng$/\"go\"/",
   "xform/^ye$/\"if\"/",
   "xform/^fa$/\"of\"/",
   "xform/^shen$/\"od\"/",
   "xform/^xin$/\"id\"/",
   "xform/^shou$/\"ao\"/",
   "xform/^hui$/\"so\"/",
   "xform/^cheng$/\"ug\"/",
   "xform/^zuo$/\"lr\"/",
   "xform/^dian$/\"qk\"/",
   "xform/^jiu$/\"ql\"/",
   "xform/^xia$/\"tk\"/",
   "xform/^lai$/\"he\"/",
   "xform/^ti$/\"qj\"/",
   "xform/^zhu$/\"ai\"/",
   "xform/^qing$/\"wl\"/",
   "xform/^xiao$/\"pd\"/",
   "xform/^fang$/\"ua\"/",
   "xform/^yuan$/\"eh\"/",
   "xform/^le$/\"rl\"/",
   "xform/^fu$/\"rj\"/",
   "xform/^yao$/\"tl\"/",
   "xform/^biao$/\"wp\"/",
   "xform/^dai$/\"sj\"/",
   "xform/^suo$/\"ro\"/",
   "xform/^she$/\"ja\"/",
   "xform/^zhen$/\"jd\"/",
   "xform/^gan$/\"dl\"/",
   "xform/^ben$/\"wy\"/",
   "xform/^wan$/\"uw\"/",
   "xform/^jiang$/\"wu\"/",
   "xform/^jue$/\"qo\"/",
   "xform/^pin$/\"ry\"/",
   "xform/^dang$/\"ty\"/",
   "xform/^fei$/\"qu\"/",
   "xform/^dou$/\"lf\"/",
   "xform/^ban$/\"gk\"/",
   "xform/^mu$/\"sh\"/",
   "xform/^zui$/\"rp\"/",
   "xform/^fan$/\"gl\"/",
   "xform/^nan$/\"qy\"/",
   "xform/^an$/\"tu\"/",
   "xform/^gu$/\"fl\"/",
   "xform/^zhang$/\"yq\"/",
   "xform/^duo$/\"ey\"/",
   "xform/^ding$/\"sk\"/",
   "xform/^huo$/\"fk\"/",
   "xform/^bian$/\"or\"/",
   "xform/^quan$/\"iq\"/",
   "xform/^bi$/\"hd\"/",
   "xform/^xue$/\"sl\"/",
   "xform/^wang$/\"pr\"/",
   "xform/^yang$/\"hs\"/",
   "xform/^fen$/\"yr\"/",
   "xform/^qian$/\"dk\"/",
   "xform/^dan$/\"ld\"/",
   "xform/^zhan$/\"ep\"/",
   "xform/^kai$/\"aj\"/",
   "xform/^cai$/\"fh\"/",
   "xform/^tou$/\"ks\"/",
   "xform/^bei$/\"ah\"/",
   "xform/^gao$/\"dh\"/",
   "xform/^hu$/\"ls\"/",
   "xform/^lian$/\"kd\"/",
   "xform/^du$/\"gj\"/",
   "xform/^xu$/\"fj\"/",
   "xform/^nian$/\"dj\"/",
   "xform/^su$/\"xl\"/",
   "xform/^tu$/\"hq\"/",
   "xform/^zhao$/\"ay\"/",
   "xform/^chi$/\"kq\"/",
   "xform/^liu$/\"jw\"/",
   "xform/^shui$/\"cl\"/",
   "xform/^bing$/\"ck\"/",
   "xform/^ri$/\"lw\"/",
   "xform/^hen$/\"dy\"/",
   "xform/^ma$/\"ia\"/",
   "xform/^mo$/\"xj\"/",
   "xform/^zhuan$/\"zj\"/",
   "xform/^zu$/\"ap\"/",
   "xform/^tai$/\"fi\"/",
   "xform/^guang$/\"ya\"/",
   "xform/^yue$/\"au\"/",
   "xform/^ling$/\"fy\"/",
   "xform/^lu$/\"us\"/",
   "xform/^huan$/\"fu\"/",
   "xform/^ba$/\"zh\"/",
   "xform/^chan$/\"rk\"/",
   "xform/^ping$/\"ig\"/",
   "xform/^lun$/\"ka\"/",
   "xform/^lv$/\"hf\"/",
   "xform/^min$/\"em\"/",
   "xform/^zong$/\"gh\"/",
   "xform/^qiang$/\"yc\"/",
   "xform/^que$/\"js\"/",
   "xform/^tiao$/\"jf\"/",
   "xform/^duan$/\"kg\"/",
   "xform/^sui$/\"xu\"/",
   "xform/^bie$/\"ha\"/",
   "xform/^ze$/\"zi\"/",
   "xform/^rong$/\"tm\"/",
   "xform/^mi$/\"xi\"/",
   "xform/^yun$/\"la\"/",
   "xform/^kuai$/\"oq\"/",
   "xform/^ce$/\"yt\"/",
   "xform/^xuan$/\"nt\"/",
   "xform/^che$/\"pt\"/",
   "xform/^tan$/\"qm\"/",
   "xform/^san$/\"jg\"/",
   "xform/^kou$/\"kf\"/",
   "xform/^jun$/\"wn\"/",
   "xform/^xun$/\"cp\"/",
   "xform/^shan$/\"qn\"/",
   "xform/^nv$/\"yw\"/",
   "xform/^shao$/\"xp\"/",
   "xform/^feng$/\"zp\"/",
   "xform/^bai$/\"co\"/",
   "xform/^kong$/\"qp\"/",
   "xform/^chuan$/\"ne\"/",
   "xform/^ting$/\"cu\"/",
   "xform/^wai$/\"en\"/",
   "xform/^gai$/\"pc\"/",
   "xform/^liao$/\"uc\"/",
   "xform/^zhuang$/\"ci\"/",
   "xform/^gou$/\"pq\"/",
   "xform/^gui$/\"xo\"/",
   "xform/^zhou$/\"tn\"/",
   "xform/^qiu$/\"me\"/",
   "xform/^zao$/\"pw\"/",
   "xform/^nei$/\"mr\"/",
   "xform/^cha$/\"rn\"/",
   "xform/^deng$/\"nr\"/",
   "xform/^lao$/\"nw\"/",
   "xform/^geng$/\"fn\"/",
   "xform/^rang$/\"an\"/",
   "xform/^can$/\"jc\"/",
   "xform/^ai$/\"dn\"/",
   "xform/^xiu$/\"am\"/",
   "xform/^gei$/\"ch\"/",
   "xform/^tui$/\"xk\"/",
   "xform/^han$/\"lq\"/",
   "xform/^luo$/\"nd\"/",
   "xform/^bo$/\"zk\"/",
   "xform/^te$/\"cj\"/",
   "xform/^pai$/\"mg\"/",
   "xform/^ya$/\"md\"/",
   "xform/^se$/\"jq\"/",
   "xform/^man$/\"sn\"/",
   "xform/^gang$/\"dm\"/",
   "xform/^lei$/\"zl\"/",
   "xform/^chong$/\"sm\"/",
   "xform/^qie$/\"xh\"/",
   "xform/^chao$/\"gm\"/",
   "xform/^pian$/\"gn\"/",
   "xform/^pi$/\"pz\"/",
   "xform/^pei$/\"cn\"/",
   "xform/^bang$/\"rm\"/",
   "xform/^tie$/\"wm\"/",
   "xform/^zhun$/\"cy\"/",
   "xform/^tao$/\"te\"/",
   "xform/^qin$/\"mw\"/",
   "xform/^lin$/\"zm\"/",
   "xform/^kao$/\"zo\"/",
   "xform/^lie$/\"zu\"/",
   "xform/^kuang$/\"px\"/",
   "xform/^cun$/\"ux\"/",
   "xform/^gen$/\"ix\"/",
   "xform/^zou$/\"oc\"/",
   "xform/^hang$/\"xy\"/",
   "xform/^huang$/\"mt\"/",
   "xform/^chuang$/\"ox\"/",
   "xform/^cong$/\"lg\"/",
   "xform/^zen$/\"ic\"/",
   "xform/^hong$/\"ma\"/",
   "xform/^nong$/\"ng\"/",
   "xform/^song$/\"ge\"/",
   "xform/^ku$/\"lx\"/",
   "xform/^tuan$/\"gq\"/",
   "xform/^hun$/\"hx\"/",
   "xform/^lou$/\"jx\"/",
   "xform/^cuo$/\"hz\"/",
   "xform/^mai$/\"fm\"/",
   "xform/^po$/\"ms\"/",
   "xform/^chen$/\"hc\"/",
   "xform/^zeng$/\"lc\"/",
   "xform/^mao$/\"na\"/",
   "xform/^nin$/\"mf\"/",
   "xform/^sha$/\"kc\"/",
   "xform/^lan$/\"ns\"/",
   "xform/^suan$/\"nf\"/",
   "xform/^piao$/\"uz\"/",
   "xform/^shuang$/\"zn\"/",
   "xform/^e$/\"yz\"/",
   "xform/^kuan$/\"xn\"/",
   "xform/^xiong$/\"ga\"/",
   "xform/^meng$/\"tw\"/",
   "xform/^pan$/\"wt\"/",
   "xform/^diao$/\"xm\"/",
   "xform/^ruan$/\"iz\"/",
   "xform/^nao$/\"oz\"/",
   "xform/^ceng$/\"mq\"/",
   "xform/^sai$/\"cm\"/",
   "xform/^hei$/\"nq\"/",
   "xform/^huai$/\"at\"/",
   "xform/^cao$/\"ta\"/",
   "xform/^ha$/\"gw\"/",
   "xform/^kuo$/\"lz\"/",
   "xform/^la$/\"ts\"/",
   "xform/^re$/\"jz\"/",
   "xform/^pa$/\"kx\"/",
   "xform/^peng$/\"kz\"/",
   "xform/^long$/\"hg\"/",
   "xform/^qiao$/\"gd\"/",
   "xform/^fou$/\"dg\"/",
   "xform/^lang$/\"qt\"/",
   "xform/^zan$/\"zy\"/",
   "xform/^tuo$/\"sg\"/",
   "xform/^pu$/\"nc\"/",
   "xform/^tang$/\"gs\"/",
   "xform/^kang$/\"ag\"/",
   "xform/^chun$/\"mc\"/",
   "xform/^mang$/\"et\"/",
   "xform/^zhuo$/\"wg\"/",
   "xform/^guai$/\"st\"/",
   "xform/^nu$/\"eg\"/",
   "xform/^niang$/\"yb\"/",
   "xform/^ruo$/\"mz\"/",
   "xform/^ken$/\"er\"/",
   "xform/^a$/\"rt\"/",
   "xform/^sou$/\"vi\"/",
   "xform/^ning$/\"nz\"/",
   "xform/^cang$/\"bp\"/",
   "xform/^miao$/\"gf\"/",
   "xform/^rou$/\"bo\"/",
   "xform/^shun$/\"tr\"/",
   "xform/^pang$/\"ub\"/",
   "xform/^chou$/\"pb\"/",
   "xform/^nai$/\"bi\"/",
   "xform/^qun$/\"ou\"/",
   "xform/^pao$/\"ob\"/",
   "xform/^leng$/\"yx\"/",
   "xform/^mou$/\"nx\"/",
   "xform/^ou$/\"mx\"/",
   "xform/^dun$/\"up\"/",
   "xform/^zhua$/\"vk\"/",
   "xform/^zha$/\"xg\"/",
   "xform/^zhai$/\"gt\"/",
   "xform/^kui$/\"tg\"/",
   "xform/^ao$/\"tf\"/",
   "xform/^zun$/\"qg\"/",
   "xform/^ka$/\"rg\"/",
   "xform/^heng$/\"dt\"/",
   "xform/^niu$/\"bl\"/",
   "xform/^lve$/\"vh\"/",
   "xform/^cu$/\"ft\"/",
   "xform/^sun$/\"kb\"/",
   "xform/^zhui$/\"hi\"/",
   "xform/^kun$/\"td\"/",
   "xform/^reng$/\"vj\"/",
   "xform/^mie$/\"bu\"/",
   "xform/^rui$/\"ut\"/",
   "xform/^wa$/\"uv\"/",
   "xform/^nuan$/\"uo\"/",
   "xform/^sa$/\"ib\"/",
   "xform/^sao$/\"ew\"/",
   "xform/^nuo$/\"vo\"/",
   "xform/^run$/\"yp\"/",
   "xform/^zang$/\"io\"/",
   "xform/^juan$/\"fa\"/",
   "xform/^bin$/\"jk\"/",
   "xform/^teng$/\"iv\"/",
   "xform/^shuai$/\"re\"/",
   "xform/^luan$/\"kl\"/",
   "xform/^za$/\"qr\"/",
   "xform/^gua$/\"yi\"/",
   "xform/^cui$/\"iu\"/",
   "xform/^rao$/\"eq\"/",
   "xform/^die$/\"ui\"/",
   "xform/^chui$/\"gz\"/",
   "xform/^pen$/\"bd\"/",
   "xform/^chai$/\"lb\"/",
   "xform/^qiong$/\"ba\"/",
   "xform/^nang$/\"kv\"/",
   "xform/^gun$/\"vl\"/",
   "xform/^beng$/\"hv\"/",
   "xform/^niao$/\"bh\"/",
   "xform/^diu$/\"bk\"/",
   "xform/^zuan$/\"jv\"/",
   "xform/^kua$/\"hp\"/",
   "xform/^dei$/\"fw\"/",
   "xform/^shua$/\"fe\"/",
   "xform/^sen$/\"jp\"/",
   "xform/^sang$/\"oh\"/",
   "xform/^en$/\"jb\"/",
   "xform/^ne$/\"gr\"/",
   "xform/^shai$/\"bj\"/",
   "xform/^fo$/\"hb\"/",
   "xform/^ga$/\"ho\"/",
   "xform/^qia$/\"lv\"/",
   "xform/^jiong$/\"fg\"/",
   "xform/^shuan$/\"rw\"/",
   "xform/^cuan$/\"da\"/",
   "xform/^chuo$/\"uy\"/",
   "xform/^chuai$/\"oi\"/",
   "xform/^cou$/\"be\"/",
   "xform/^zhuai$/\"hl\"/",
   "xform/^ei$/\"yu\"/",
   "xform/^cen$/\"vp\"/",
   "xform/^den$/\"yo\"/",
   "xform/^kei$/\"yv\"/",
   "xform/^lo$/\"pv\"/",
   "xform/^nou$/\"we\"/",
   "xform/^nen$/\"pu\"/",
   "xform/^dia$/\"ds\"/",
   "xform/^keng$/\"jl\"/",
   "xform/^miu$/\"vy\"/",
   "xform/^pie$/\"wr\"/",
   "xform/^ca$/\"bm\"/",
   "xform/^o$/\"bn\"/",
   "xform/^lia$/\"zb\"/",
   "xform/^tun$/\"by\"/",
   "xform/^ang$/\"op\"/",
   "xform/^zei$/\"rq\"/",
   "xform/^weng$/\"vm\"/",
   "xform/^pou$/\"xb\"/",
   "xform/^nve$/\"ip\"/",
   "xform/^shei$/\"ov\"/",
   "xform/^nie$/\"oy\"/",
   "xform/^seng$/\"zt\"/",
   "xform/^yo$/\"mb\"/",
   "xform/^nun$/\"li\"/",
   "xform/^nia$/\"ij\"/",
   "xform/^tei$/\"ae\"/",
   "xform/^chua$/\"ef\"/",
   "xform/^eng$/\"se\"/",
   "xform/^zhei$/\"hu\"/",
   "xform/^fiao$/\"jo\"/",
   "xform/\"//",
  },
 },
}
M.module_fnua_cn={
 comment_format=(function()
  local algebra=M.speller.algebra
  local map={
   ["^"]=[[\<]],
   ["$"]=[[\>]],
  }
  local new={}
  for _,formula in ipairs(algebra) do
   local type,from,to=formula:match("^(.-)/(.-)/(.-)/?$")
   from=from:gsub("[$^]",map)
   table.insert(new,type.."/"..from.."/"..to.."/")
  end
  return new
 end)(),
}
return M
